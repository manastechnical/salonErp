{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class SessionService {\n  constructor() {\n    this.tokenKey = 'token';\n    this.userIdKey = 'userId';\n    this.logoutEvent = new EventEmitter();\n  }\n  isLoggedIn() {\n    return sessionStorage.getItem(this.tokenKey) !== null;\n  }\n  setSession(token, userId) {\n    sessionStorage.setItem(this.tokenKey, token);\n    sessionStorage.setItem(this.userIdKey, userId);\n  }\n  logout() {\n    sessionStorage.removeItem(this.tokenKey);\n    sessionStorage.removeItem(this.userIdKey);\n    this.logoutEvent.emit();\n  }\n  getLoggedInUserId() {\n    return sessionStorage.getItem(this.userIdKey);\n  }\n}\nSessionService.ɵfac = function SessionService_Factory(t) {\n  return new (t || SessionService)();\n};\nSessionService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: SessionService,\n  factory: SessionService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["EventEmitter","SessionService","constructor","tokenKey","userIdKey","logoutEvent","isLoggedIn","sessionStorage","getItem","setSession","token","userId","setItem","logout","removeItem","emit","getLoggedInUserId","factory","ɵfac","providedIn"],"sources":["D:\\salon\\angular-mysql-auth\\frontend\\src\\app\\session.service.ts"],"sourcesContent":["import { EventEmitter, Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SessionService {\n  private tokenKey = 'token';\n  private userIdKey = 'userId';\n  logoutEvent: EventEmitter<void> = new EventEmitter<void>();\n\n  constructor() {}\n\n  isLoggedIn(): boolean {\n    return sessionStorage.getItem(this.tokenKey) !== null;\n  }\n\n  setSession(token: string,userId:string): void {\n    sessionStorage.setItem(this.tokenKey, token);\n    sessionStorage.setItem(this.userIdKey, userId);\n  }\n\n  logout(): void {\n    sessionStorage.removeItem(this.tokenKey);\n    sessionStorage.removeItem(this.userIdKey);\n    this.logoutEvent.emit();\n  }\n\n  getLoggedInUserId(): string | null {\n    return sessionStorage.getItem(this.userIdKey);\n  }\n\n}\n"],"mappings":"AAAA,SAASA,YAAY,QAAoB,eAAe;;AAKxD,OAAM,MAAOC,cAAc;EAKzBC,YAAA;IAJQ,KAAAC,QAAQ,GAAG,OAAO;IAClB,KAAAC,SAAS,GAAG,QAAQ;IAC5B,KAAAC,WAAW,GAAuB,IAAIL,YAAY,EAAQ;EAE3C;EAEfM,UAAUA,CAAA;IACR,OAAOC,cAAc,CAACC,OAAO,CAAC,IAAI,CAACL,QAAQ,CAAC,KAAK,IAAI;EACvD;EAEAM,UAAUA,CAACC,KAAa,EAACC,MAAa;IACpCJ,cAAc,CAACK,OAAO,CAAC,IAAI,CAACT,QAAQ,EAAEO,KAAK,CAAC;IAC5CH,cAAc,CAACK,OAAO,CAAC,IAAI,CAACR,SAAS,EAAEO,MAAM,CAAC;EAChD;EAEAE,MAAMA,CAAA;IACJN,cAAc,CAACO,UAAU,CAAC,IAAI,CAACX,QAAQ,CAAC;IACxCI,cAAc,CAACO,UAAU,CAAC,IAAI,CAACV,SAAS,CAAC;IACzC,IAAI,CAACC,WAAW,CAACU,IAAI,EAAE;EACzB;EAEAC,iBAAiBA,CAAA;IACf,OAAOT,cAAc,CAACC,OAAO,CAAC,IAAI,CAACJ,SAAS,CAAC;EAC/C;;AAxBWH,cAAc,C;mBAAdA,cAAc;AAAA;AAAdA,cAAc,C;SAAdA,cAAc;EAAAgB,OAAA,EAAdhB,cAAc,CAAAiB,IAAA;EAAAC,UAAA,EAFb;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}